# PRD-010: Core 최소 테스트 존재 규칙 및 승인 흐름 고정

---

## 1. 목적 (Purpose)

본 PRD의 목적은 Core 영역에 대한 **최소 테스트 존재 요건과 승인 흐름을 명문화하여 고정**하는 것이다.

이 PRD는 새로운 기능을 추가하지 않는다.
이 PRD는 기존 Core 코드를 변경하지 않는다.
이 PRD는 거버넌스 규칙을 법적 기준으로 선언하는 단계이다.

---

## 2. 적용 범위 (Scope)

### 2.1 Core의 물리적 경계 정의

본 PRD에서 말하는 Core 영역은 다음을 의미한다:

- `src/core/*` 디렉토리 하위 코드
- main 브랜치에 존재하는 해당 계층 코드

위 경계를 기준으로 Core 여부를 판단한다.

### 2.2 적용 대상

PRD-010 승인 이후, 다음 항목에 적용된다:

- Core에 신규 진입하는 모든 PRD
- Core 코드 수정 PRD
- Core 테스트 수정 PRD

### 2.3 적용 제외 (Non-Retroactive Rule)

본 규칙은 **소급 적용하지 않는다.**

- 이미 main에 존재하는 Core 코드
- 이미 승격 완료된 PRD
- 기존 테스트의 품질 수준

과거 상태는 역사로 존치한다.

---

## 3. 핵심 규칙 (Core Governance Rules)

### 3.1 최소 테스트 존재 규칙

Core 영역에 반영되는 모든 변경은
**최소 1개 이상의 테스트를 포함해야 한다.**

테스트가 존재하지 않는 변경은 Core 승격이 불가능하다.

---

### 3.2 Green ≠ Merge 원칙

테스트 PASS는 병합의 필요조건일 뿐, 충분조건이 아니다.

Core 승격을 위해서는 반드시 다음이 모두 충족되어야 한다:

1. 테스트 PASS
2. Reviewer 명시적 판정 (APPROVED)
3. 승인 기록 존재

---

### 3.3 테스트 수정 승인 규칙

Core 테스트를 수정하거나 제거하는 경우:

- 변경 사유가 명확히 기록되어야 한다.
- Reviewer 승인 없이는 병합될 수 없다.

---

### 3.4 테스트 감소 제한 규칙

Core 영역에서 테스트 수가 감소하는 변경은
기본적으로 HOLD 상태로 간주한다.

감소가 허용되는 경우에는
반드시 사유 기록 및 Reviewer 승인 절차를 거친다.

---

## 4. Core 보호 원칙

PRD-010은 Core의 입구를 보호하기 위한 규칙이다.

제품 확장 영역, 실험 영역, Sandbox 영역에는
동일 강도로 적용되지 않는다.

Core는 프랜차이즈 본점 기준선으로 간주되며,
본 규칙은 해당 기준선을 보호하기 위한 최소 장치이다.

---

## 5. 완료 정의 (Definition of Done)

본 PRD의 완료 조건은 다음과 같다:

- ABCD 문서 작성 완료
- Reviewer 판정 기록 (APPROVED / HOLD / REJECTED)
- prd:close 성공
- state 승격 완료

---

## 6. 비목표 (Non-Goals)

본 PRD는 다음을 포함하지 않는다:

- 기존 테스트 전수 점검
- 자동화 스크립트 추가
- CI 구조 변경
- Intent Drift 자동 판정 시스템 도입

자동화 및 확장 거버넌스는 이후 PRD에서 다룬다.

---

## 7. 구조적 의미

PRD-010은 과거를 수정하는 단계가 아니다.

이는 미래 Core 변경에 대해
"테스트 없는 진입"을 영구적으로 차단하는 경계선 선언이다.

