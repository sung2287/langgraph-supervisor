# C-002 : Intent → Contract Map
(PRD-002 : 목차 항목 조회)

---

## 1. 목적

본 문서는 PRD-002에 정의된 인간의 의도를
기술적 계약(Contract Spec)으로 변환하기 위한 연결 지도이다.

이 문서에 정의되지 않은 의도는
Contract 및 코드에 존재할 수 없다.

---

## 2. Intent 목록 (PRD 기준)

### A-1. 단일 진실(Single Source of Truth) 데이터를 조회한다

- 출처 PRD: 002_목차항목조회.md
- 의도 요약:
  Create(PRD-001)로 생성된 데이터를
  일관된 규칙으로 읽어온다.

### A-2. 데이터를 변경하지 않고 읽기 전용으로 제공한다

- 출처 PRD: 002_목차항목조회.md
- 의도 요약:
  Read 동작 수행 시 사이드 이펙트(Side-Effect)가 없어야 한다.

### A-3. 계층 구조와 순서를 보존하여 반환한다

- 출처 PRD: 002_목차항목조회.md
- 의도 요약:
  단순 데이터 나열이 아닌,
  트리 구조 또는 정렬된 리스트 형태의 의미론적 구조를 반환한다.

---

## 3. Intent → Contract 규칙 매핑

### Intent A-1, A-3 → Contract Set B-002

| Contract ID | 계약 규칙 요약 | 필수 여부 | 검증 방식 |
|------------|----------------|-----------|-----------|
| B-002-1 | ID 기반 단건 조회 시 정확한 필드(id, title 등)를 반환해야 한다 | 필수 | 데이터 일치 테스트 |
| B-002-2 | 목록 조회 시 order 필드 기준 오름차순 정렬되어야 한다 | 필수 | 정렬 검증 테스트 |
| B-002-3 | 존재하지 않는 ID 조회 시 명시적 실패(NotFound)를 반환해야 한다 | 필수 | 예외 처리 테스트 |
| B-002-4 | Tree 조회 시 부모-자식 관계가 올바르게 중첩되어야 한다 | 필수 | 구조 검증 테스트 |

### Intent A-2 → Contract Set B-002 (불변성)

| Contract ID | 계약 규칙 요약 | 필수 여부 | 검증 방식 |
|------------|----------------|-----------|-----------|
| B-002-5 | 조회 API 호출 전후로 데이터 변경이 없어야 한다 | 필수 | DB 스냅샷 비교 |

---

## 4. Contract 범위 선언

본 Intent(A-1~3)에 의해 생성되는 Contract는 다음 범위로 제한된다.

포함:
- ID 기준 조회 (Single)
- 부모 ID 기준 목록 조회 (List)
- 계층형 조회 (Tree)
- 정렬(Order) 보장

제외:
- 검색(Search)
- 페이징(Paging)
- 권한 필터링
- 데이터 수정/삭제

---

## 5. 검증 가능성 선언 (Review Gate)

다음 질문에 모두 YES로 답할 수 있어야
PRD-002는 Contract로서 충족된 것으로 판단한다.

- 조회 결과가 Create 시 저장된 데이터와 100% 일치하는가?
- 조회 로직 실행 후 DB 상태가 변경되지 않았음이 보장되는가?
- List/Tree 조회 시 순서(Order)가 일관되게 유지되는가?
